{"ast":null,"code":"import express from 'express';\nimport path from 'path';\nimport config from '@plone/volto/registry';\nconst staticMiddleware = express.static(process.env.BUILD_DIR ? path.join(process.env.BUILD_DIR, 'public') : process.env.RAZZLE_PUBLIC_DIR, {\n  setHeaders: function (res, path) {\n    const pathLib = require('path');\n    const base = pathLib.resolve(process.env.RAZZLE_PUBLIC_DIR);\n    const relpath = path.substr(base.length);\n    config.settings.serverConfig.staticFiles.some(elem => {\n      if (relpath.match(elem.match)) {\n        for (const name in elem.headers) {\n          res.setHeader(name, elem.headers[name] || 'undefined');\n        }\n        return true;\n      }\n      return false;\n    });\n  }\n});\nexport default function () {\n  const middleware = express.Router();\n  middleware.all('*', staticMiddleware);\n  middleware.id = 'staticResourcesProcessor';\n  return middleware;\n}","map":{"version":3,"names":["express","path","config","staticMiddleware","static","process","env","BUILD_DIR","join","RAZZLE_PUBLIC_DIR","setHeaders","res","pathLib","require","base","resolve","relpath","substr","length","settings","serverConfig","staticFiles","some","elem","match","name","headers","setHeader","middleware","Router","all","id"],"sources":["/Users/cihanandac/Documents/code-files/utrechtsciencepark/utrecht-science-park/frontend/node_modules/@plone/volto/src/express-middleware/static.js"],"sourcesContent":["import express from 'express';\nimport path from 'path';\nimport config from '@plone/volto/registry';\n\nconst staticMiddleware = express.static(\n  process.env.BUILD_DIR\n    ? path.join(process.env.BUILD_DIR, 'public')\n    : process.env.RAZZLE_PUBLIC_DIR,\n  {\n    setHeaders: function (res, path) {\n      const pathLib = require('path');\n      const base = pathLib.resolve(process.env.RAZZLE_PUBLIC_DIR);\n      const relpath = path.substr(base.length);\n      config.settings.serverConfig.staticFiles.some((elem) => {\n        if (relpath.match(elem.match)) {\n          for (const name in elem.headers) {\n            res.setHeader(name, elem.headers[name] || 'undefined');\n          }\n          return true;\n        }\n        return false;\n      });\n    },\n  },\n);\n\nexport default function () {\n  const middleware = express.Router();\n  middleware.all('*', staticMiddleware);\n  middleware.id = 'staticResourcesProcessor';\n  return middleware;\n}\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,MAAM,MAAM,uBAAuB;AAE1C,MAAMC,gBAAgB,GAAGH,OAAO,CAACI,MAAM,CACrCC,OAAO,CAACC,GAAG,CAACC,SAAS,GACjBN,IAAI,CAACO,IAAI,CAACH,OAAO,CAACC,GAAG,CAACC,SAAS,EAAE,QAAQ,CAAC,GAC1CF,OAAO,CAACC,GAAG,CAACG,iBAAiB,EACjC;EACEC,UAAU,EAAE,UAAUC,GAAG,EAAEV,IAAI,EAAE;IAC/B,MAAMW,OAAO,GAAGC,OAAO,CAAC,MAAM,CAAC;IAC/B,MAAMC,IAAI,GAAGF,OAAO,CAACG,OAAO,CAACV,OAAO,CAACC,GAAG,CAACG,iBAAiB,CAAC;IAC3D,MAAMO,OAAO,GAAGf,IAAI,CAACgB,MAAM,CAACH,IAAI,CAACI,MAAM,CAAC;IACxChB,MAAM,CAACiB,QAAQ,CAACC,YAAY,CAACC,WAAW,CAACC,IAAI,CAAEC,IAAI,IAAK;MACtD,IAAIP,OAAO,CAACQ,KAAK,CAACD,IAAI,CAACC,KAAK,CAAC,EAAE;QAC7B,KAAK,MAAMC,IAAI,IAAIF,IAAI,CAACG,OAAO,EAAE;UAC/Bf,GAAG,CAACgB,SAAS,CAACF,IAAI,EAAEF,IAAI,CAACG,OAAO,CAACD,IAAI,CAAC,IAAI,WAAW,CAAC;QACxD;QACA,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC;EACJ;AACF,CAAC,CACF;AAED,eAAe,YAAY;EACzB,MAAMG,UAAU,GAAG5B,OAAO,CAAC6B,MAAM,EAAE;EACnCD,UAAU,CAACE,GAAG,CAAC,GAAG,EAAE3B,gBAAgB,CAAC;EACrCyB,UAAU,CAACG,EAAE,GAAG,0BAA0B;EAC1C,OAAOH,UAAU;AACnB"},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}